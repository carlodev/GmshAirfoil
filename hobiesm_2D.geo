SetFactory("OpenCASCADE");
N_inlet = DefineNumber[ 20, Name "Parameters/N_inlet" ];
N_vertical = DefineNumber[ 40, Name "Parameters/N_vertical" ];
P_vertical = DefineNumber[ 1.15, Name "Parameters/P_vertical" ];
N_airfoil = DefineNumber[ 50, Name "Parameters/N_airfoil" ];
N_shear = DefineNumber[ 20, Name "Parameters/N_shear" ];
P_shear = DefineNumber[ 1.2, Name "Parameters/P_shear" ];
L = DefineNumber[ 6, Name "Parameters/L" ];
C = DefineNumber[ 6, Name "Parameters/C" ];
AoA_deg = DefineNumber[ 0, Name "Parameters/AoA" ];
AoA = AoA_deg*3.14/180;
a_dim = 0.2;
Point(1) = {1.0*Cos(AoA) + 0.0*Sin(AoA),-1* 1.0*Sin(AoA) + 0.0*Cos(AoA),0.0,a_dim};
Point(2) = {0.99*Cos(AoA) + 0.00051*Sin(AoA),-1* 0.99*Sin(AoA) + 0.00051*Cos(AoA),0.0,a_dim};
Point(3) = {0.98*Cos(AoA) + 0.001026*Sin(AoA),-1* 0.98*Sin(AoA) + 0.001026*Cos(AoA),0.0,a_dim};
Point(4) = {0.96*Cos(AoA) + 0.00205*Sin(AoA),-1* 0.96*Sin(AoA) + 0.00205*Cos(AoA),0.0,a_dim};
Point(5) = {0.94*Cos(AoA) + 0.003037*Sin(AoA),-1* 0.94*Sin(AoA) + 0.003037*Cos(AoA),0.0,a_dim};
Point(6) = {0.92*Cos(AoA) + 0.00397*Sin(AoA),-1* 0.92*Sin(AoA) + 0.00397*Cos(AoA),0.0,a_dim};
Point(7) = {0.9*Cos(AoA) + 0.004839*Sin(AoA),-1* 0.9*Sin(AoA) + 0.004839*Cos(AoA),0.0,a_dim};
Point(8) = {0.85*Cos(AoA) + 0.006681*Sin(AoA),-1* 0.85*Sin(AoA) + 0.006681*Cos(AoA),0.0,a_dim};
Point(9) = {0.8*Cos(AoA) + 0.008008*Sin(AoA),-1* 0.8*Sin(AoA) + 0.008008*Cos(AoA),0.0,a_dim};
Point(10) = {0.75*Cos(AoA) + 0.0088*Sin(AoA),-1* 0.75*Sin(AoA) + 0.0088*Cos(AoA),0.0,a_dim};
Point(11) = {0.7*Cos(AoA) + 0.00906*Sin(AoA),-1* 0.7*Sin(AoA) + 0.00906*Cos(AoA),0.0,a_dim};
Point(12) = {0.65*Cos(AoA) + 0.008802*Sin(AoA),-1* 0.65*Sin(AoA) + 0.008802*Cos(AoA),0.0,a_dim};
Point(13) = {0.6*Cos(AoA) + 0.008054*Sin(AoA),-1* 0.6*Sin(AoA) + 0.008054*Cos(AoA),0.0,a_dim};
Point(14) = {0.55*Cos(AoA) + 0.006847*Sin(AoA),-1* 0.55*Sin(AoA) + 0.006847*Cos(AoA),0.0,a_dim};
Point(15) = {0.5*Cos(AoA) + 0.005186*Sin(AoA),-1* 0.5*Sin(AoA) + 0.005186*Cos(AoA),0.0,a_dim};
Point(16) = {0.45*Cos(AoA) + 0.003034*Sin(AoA),-1* 0.45*Sin(AoA) + 0.003034*Cos(AoA),0.0,a_dim};
Point(17) = {0.4*Cos(AoA) + 0.000342*Sin(AoA),-1* 0.4*Sin(AoA) + 0.000342*Cos(AoA),0.0,a_dim};
Point(18) = {0.35*Cos(AoA) + -0.002879*Sin(AoA),-1* 0.35*Sin(AoA) + -0.002879*Cos(AoA),0.0,a_dim};
Point(19) = {0.3*Cos(AoA) + -0.006493*Sin(AoA),-1* 0.3*Sin(AoA) + -0.006493*Cos(AoA),0.0,a_dim};
Point(20) = {0.25*Cos(AoA) + -0.01023*Sin(AoA),-1* 0.25*Sin(AoA) + -0.01023*Cos(AoA),0.0,a_dim};
Point(21) = {0.2*Cos(AoA) + -0.013729*Sin(AoA),-1* 0.2*Sin(AoA) + -0.013729*Cos(AoA),0.0,a_dim};
Point(22) = {0.15*Cos(AoA) + -0.016552*Sin(AoA),-1* 0.15*Sin(AoA) + -0.016552*Cos(AoA),0.0,a_dim};
Point(23) = {0.1*Cos(AoA) + -0.018073*Sin(AoA),-1* 0.1*Sin(AoA) + -0.018073*Cos(AoA),0.0,a_dim};
Point(24) = {0.0875*Cos(AoA) + -0.018107*Sin(AoA),-1* 0.0875*Sin(AoA) + -0.018107*Cos(AoA),0.0,a_dim};
Point(25) = {0.075*Cos(AoA) + -0.0179*Sin(AoA),-1* 0.075*Sin(AoA) + -0.0179*Cos(AoA),0.0,a_dim};
Point(26) = {0.0625*Cos(AoA) + -0.017315*Sin(AoA),-1* 0.0625*Sin(AoA) + -0.017315*Cos(AoA),0.0,a_dim};
Point(27) = {0.05*Cos(AoA) + -0.0162*Sin(AoA),-1* 0.05*Sin(AoA) + -0.0162*Cos(AoA),0.0,a_dim};
Point(28) = {0.0375*Cos(AoA) + -0.014436*Sin(AoA),-1* 0.0375*Sin(AoA) + -0.014436*Cos(AoA),0.0,a_dim};
Point(29) = {0.025*Cos(AoA) + -0.011871*Sin(AoA),-1* 0.025*Sin(AoA) + -0.011871*Cos(AoA),0.0,a_dim};
Point(30) = {0.0125*Cos(AoA) + -0.008062*Sin(AoA),-1* 0.0125*Sin(AoA) + -0.008062*Cos(AoA),0.0,a_dim};
Point(31) = {0.0062*Cos(AoA) + -0.005129*Sin(AoA),-1* 0.0062*Sin(AoA) + -0.005129*Cos(AoA),0.0,a_dim};
Point(32) = {0.0*Cos(AoA) + 0.002521*Sin(AoA),-1* 0.0*Sin(AoA) + 0.002521*Cos(AoA),0.0,a_dim};
Point(33) = {0.0062*Cos(AoA) + 0.011507*Sin(AoA),-1* 0.0062*Sin(AoA) + 0.011507*Cos(AoA),0.0,a_dim};
Point(34) = {0.0125*Cos(AoA) + 0.015881*Sin(AoA),-1* 0.0125*Sin(AoA) + 0.015881*Cos(AoA),0.0,a_dim};
Point(35) = {0.025*Cos(AoA) + 0.0228*Sin(AoA),-1* 0.025*Sin(AoA) + 0.0228*Cos(AoA),0.0,a_dim};
Point(36) = {0.0375*Cos(AoA) + 0.028799*Sin(AoA),-1* 0.0375*Sin(AoA) + 0.028799*Cos(AoA),0.0,a_dim};
Point(37) = {0.05*Cos(AoA) + 0.034268*Sin(AoA),-1* 0.05*Sin(AoA) + 0.034268*Cos(AoA),0.0,a_dim};
Point(38) = {0.0625*Cos(AoA) + 0.039263*Sin(AoA),-1* 0.0625*Sin(AoA) + 0.039263*Cos(AoA),0.0,a_dim};
Point(39) = {0.075*Cos(AoA) + 0.043774*Sin(AoA),-1* 0.075*Sin(AoA) + 0.043774*Cos(AoA),0.0,a_dim};
Point(40) = {0.0875*Cos(AoA) + 0.047813*Sin(AoA),-1* 0.0875*Sin(AoA) + 0.047813*Cos(AoA),0.0,a_dim};
Point(41) = {0.1*Cos(AoA) + 0.051441*Sin(AoA),-1* 0.1*Sin(AoA) + 0.051441*Cos(AoA),0.0,a_dim};
Point(42) = {0.15*Cos(AoA) + 0.062804*Sin(AoA),-1* 0.15*Sin(AoA) + 0.062804*Cos(AoA),0.0,a_dim};
Point(43) = {0.2*Cos(AoA) + 0.070502*Sin(AoA),-1* 0.2*Sin(AoA) + 0.070502*Cos(AoA),0.0,a_dim};
Point(44) = {0.25*Cos(AoA) + 0.075513*Sin(AoA),-1* 0.25*Sin(AoA) + 0.075513*Cos(AoA),0.0,a_dim};
Point(45) = {0.3*Cos(AoA) + 0.078344*Sin(AoA),-1* 0.3*Sin(AoA) + 0.078344*Cos(AoA),0.0,a_dim};
Point(46) = {0.35*Cos(AoA) + 0.07931*Sin(AoA),-1* 0.35*Sin(AoA) + 0.07931*Cos(AoA),0.0,a_dim};
Point(47) = {0.4*Cos(AoA) + 0.078665*Sin(AoA),-1* 0.4*Sin(AoA) + 0.078665*Cos(AoA),0.0,a_dim};
Point(48) = {0.45*Cos(AoA) + 0.076653*Sin(AoA),-1* 0.45*Sin(AoA) + 0.076653*Cos(AoA),0.0,a_dim};
Point(49) = {0.5*Cos(AoA) + 0.0735*Sin(AoA),-1* 0.5*Sin(AoA) + 0.0735*Cos(AoA),0.0,a_dim};
Point(50) = {0.55*Cos(AoA) + 0.06937*Sin(AoA),-1* 0.55*Sin(AoA) + 0.06937*Cos(AoA),0.0,a_dim};
Point(51) = {0.6*Cos(AoA) + 0.064316*Sin(AoA),-1* 0.6*Sin(AoA) + 0.064316*Cos(AoA),0.0,a_dim};
Point(52) = {0.65*Cos(AoA) + 0.058338*Sin(AoA),-1* 0.65*Sin(AoA) + 0.058338*Cos(AoA),0.0,a_dim};
Point(53) = {0.7*Cos(AoA) + 0.051475*Sin(AoA),-1* 0.7*Sin(AoA) + 0.051475*Cos(AoA),0.0,a_dim};
Point(54) = {0.75*Cos(AoA) + 0.043857*Sin(AoA),-1* 0.75*Sin(AoA) + 0.043857*Cos(AoA),0.0,a_dim};
Point(55) = {0.8*Cos(AoA) + 0.0357*Sin(AoA),-1* 0.8*Sin(AoA) + 0.0357*Cos(AoA),0.0,a_dim};
Point(56) = {0.85*Cos(AoA) + 0.027245*Sin(AoA),-1* 0.85*Sin(AoA) + 0.027245*Cos(AoA),0.0,a_dim};
Point(57) = {0.9*Cos(AoA) + 0.018669*Sin(AoA),-1* 0.9*Sin(AoA) + 0.018669*Cos(AoA),0.0,a_dim};
Point(58) = {0.92*Cos(AoA) + 0.015198*Sin(AoA),-1* 0.92*Sin(AoA) + 0.015198*Cos(AoA),0.0,a_dim};
Point(59) = {0.94*Cos(AoA) + 0.011659*Sin(AoA),-1* 0.94*Sin(AoA) + 0.011659*Cos(AoA),0.0,a_dim};
Point(60) = {0.96*Cos(AoA) + 0.007974*Sin(AoA),-1* 0.96*Sin(AoA) + 0.007974*Cos(AoA),0.0,a_dim};
Point(61) = {0.98*Cos(AoA) + 0.004078*Sin(AoA),-1* 0.98*Sin(AoA) + 0.004078*Cos(AoA),0.0,a_dim};
Point(62) = {0.99*Cos(AoA) + 0.002053*Sin(AoA),-1* 0.99*Sin(AoA) + 0.002053*Cos(AoA),0.0,a_dim};
Point(63) = {1.0*Cos(AoA) + 0.0*Sin(AoA),-1* 1.0*Sin(AoA) + 0.0*Cos(AoA),0.0,a_dim};
Spline(1) = {39:63};
Spline(2) = {1:25};
Line(3) = {63, 1};
Spline(4) = {25:39};
Point(64) = {0, C, 0};
Point(65) = {0, -C, 0};
Point(66) = {L, C, 0};
Point(67) = {L, -C, 0};
Point(68) = {1, C, 0};
Point(69) = {1, -C, 0};
Point(70) = {L, -L* 1.0*Sin(AoA) + 0.0*L*Cos(AoA), 0};
Point(71) = {L, -L* 1.0*Sin(AoA) + 0.0*L*Cos(AoA), 0};
Point(72) = {0, 0, 0};
Circle(5) = {65, 72, 64};
Line(6) = {64, 68};
Line(7) = {65, 69};
Line(8) = {68, 66};
Line(9) = {68, 63};
Line(10) = {69, 1};
Line(11) = {69, 67};
Line(12) = {64, 39};
Line(13) = {65, 25};
Line(14) = {66, 70};
Line(15) = {70, 71};
Line(16) = {67, 71};
Line(17) = {71, 1};
Line(18) = {70, 63};
Curve Loop(1) = {12,-4,-13,5 };
Curve Loop(2) = {6,9,-1,-12 };
Curve Loop(3) = {7,10,2,-13 };
Curve Loop(4) = {8,14,18,-9 };
Curve Loop(5) = {11,16,17,-10 };
Plane Surface(1) = {1};
Plane Surface(2) = {2};
Plane Surface(3) = {3};
Plane Surface(4) = {4};
Plane Surface(5) = {5};
Curve Loop(6) = {15,17,-3,-18 };
Plane Surface(6) = {6};
Transfinite Curve {-5, -4} = N_inlet Using Progression 1.0; 
Transfinite Curve {-12, -9, -14, -16, -10, -13} = N_vertical Using Progression P_vertical; 
Transfinite Curve {6, -1, 2, 7} = N_airfoil Using Progression 1.0; 
Transfinite Curve {3, 15} = 4 Using Progression 1.0; 
Transfinite Curve {8, -18, -17, 11} = N_shear Using Progression P_shear; 
Transfinite Surface {1};
Transfinite Surface {2};
Transfinite Surface {3};
Transfinite Surface {4};
Transfinite Surface {5};
Transfinite Surface {6};
Recombine Surface {1, 2, 3, 4, 5, 6}; 
Physical Surface("fluid", 1) = {1, 2, 3, 4, 5, 6};