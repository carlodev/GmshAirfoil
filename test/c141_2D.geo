SetFactory("OpenCASCADE");
N_inlet = DefineNumber[ 20, Name "Parameters/N_inlet" ];
N_vertical = DefineNumber[ 40, Name "Parameters/N_vertical" ];
P_vertical = DefineNumber[ 1.15, Name "Parameters/P_vertical" ];
N_airfoil = DefineNumber[ 50, Name "Parameters/N_airfoil" ];
N_shear = DefineNumber[ 20, Name "Parameters/N_shear" ];
P_shear = DefineNumber[ 1.2, Name "Parameters/P_shear" ];
L = DefineNumber[ 6, Name "Parameters/L" ];
C = DefineNumber[ 6, Name "Parameters/C" ];
AoA_deg = DefineNumber[ 0, Name "Parameters/AoA" ];
AoA = AoA_deg*3.14/180;
a_dim = 0.2;
Point(1) = {1.0*Cos(AoA) + -0.000927*Sin(AoA),-1* 1.0*Sin(AoA) + -0.000927*Cos(AoA),0.0,a_dim};
Point(2) = {0.997593*Cos(AoA) + -0.001188*Sin(AoA),-1* 0.997593*Sin(AoA) + -0.001188*Cos(AoA),0.0,a_dim};
Point(3) = {0.990393*Cos(AoA) + -0.001973*Sin(AoA),-1* 0.990393*Sin(AoA) + -0.001973*Cos(AoA),0.0,a_dim};
Point(4) = {0.978471*Cos(AoA) + -0.003299*Sin(AoA),-1* 0.978471*Sin(AoA) + -0.003299*Cos(AoA),0.0,a_dim};
Point(5) = {0.961941*Cos(AoA) + -0.005158*Sin(AoA),-1* 0.961941*Sin(AoA) + -0.005158*Cos(AoA),0.0,a_dim};
Point(6) = {0.940962*Cos(AoA) + -0.007451*Sin(AoA),-1* 0.940962*Sin(AoA) + -0.007451*Cos(AoA),0.0,a_dim};
Point(7) = {0.915736*Cos(AoA) + -0.010145*Sin(AoA),-1* 0.915736*Sin(AoA) + -0.010145*Cos(AoA),0.0,a_dim};
Point(8) = {0.886507*Cos(AoA) + -0.013138*Sin(AoA),-1* 0.886507*Sin(AoA) + -0.013138*Cos(AoA),0.0,a_dim};
Point(9) = {0.853555*Cos(AoA) + -0.016308*Sin(AoA),-1* 0.853555*Sin(AoA) + -0.016308*Cos(AoA),0.0,a_dim};
Point(10) = {0.817199*Cos(AoA) + -0.019502*Sin(AoA),-1* 0.817199*Sin(AoA) + -0.019502*Cos(AoA),0.0,a_dim};
Point(11) = {0.777787*Cos(AoA) + -0.02287*Sin(AoA),-1* 0.777787*Sin(AoA) + -0.02287*Cos(AoA),0.0,a_dim};
Point(12) = {0.7357*Cos(AoA) + -0.026339*Sin(AoA),-1* 0.7357*Sin(AoA) + -0.026339*Cos(AoA),0.0,a_dim};
Point(13) = {0.691344*Cos(AoA) + -0.029791*Sin(AoA),-1* 0.691344*Sin(AoA) + -0.029791*Cos(AoA),0.0,a_dim};
Point(14) = {0.645144*Cos(AoA) + -0.032981*Sin(AoA),-1* 0.645144*Sin(AoA) + -0.032981*Cos(AoA),0.0,a_dim};
Point(15) = {0.597547*Cos(AoA) + -0.035862*Sin(AoA),-1* 0.597547*Sin(AoA) + -0.035862*Cos(AoA),0.0,a_dim};
Point(16) = {0.549011*Cos(AoA) + -0.038345*Sin(AoA),-1* 0.549011*Sin(AoA) + -0.038345*Cos(AoA),0.0,a_dim};
Point(17) = {0.5*Cos(AoA) + -0.040198*Sin(AoA),-1* 0.5*Sin(AoA) + -0.040198*Cos(AoA),0.0,a_dim};
Point(18) = {0.450993*Cos(AoA) + -0.04153*Sin(AoA),-1* 0.450993*Sin(AoA) + -0.04153*Cos(AoA),0.0,a_dim};
Point(19) = {0.402456*Cos(AoA) + -0.042335*Sin(AoA),-1* 0.402456*Sin(AoA) + -0.042335*Cos(AoA),0.0,a_dim};
Point(20) = {0.354859*Cos(AoA) + -0.042551*Sin(AoA),-1* 0.354859*Sin(AoA) + -0.042551*Cos(AoA),0.0,a_dim};
Point(21) = {0.30866*Cos(AoA) + -0.042249*Sin(AoA),-1* 0.30866*Sin(AoA) + -0.042249*Cos(AoA),0.0,a_dim};
Point(22) = {0.264303*Cos(AoA) + -0.041492*Sin(AoA),-1* 0.264303*Sin(AoA) + -0.041492*Cos(AoA),0.0,a_dim};
Point(23) = {0.222216*Cos(AoA) + -0.040312*Sin(AoA),-1* 0.222216*Sin(AoA) + -0.040312*Cos(AoA),0.0,a_dim};
Point(24) = {0.182804*Cos(AoA) + -0.038743*Sin(AoA),-1* 0.182804*Sin(AoA) + -0.038743*Cos(AoA),0.0,a_dim};
Point(25) = {0.146447*Cos(AoA) + -0.036773*Sin(AoA),-1* 0.146447*Sin(AoA) + -0.036773*Cos(AoA),0.0,a_dim};
Point(26) = {0.113495*Cos(AoA) + -0.034367*Sin(AoA),-1* 0.113495*Sin(AoA) + -0.034367*Cos(AoA),0.0,a_dim};
Point(27) = {0.084266*Cos(AoA) + -0.031496*Sin(AoA),-1* 0.084266*Sin(AoA) + -0.031496*Cos(AoA),0.0,a_dim};
Point(28) = {0.05904*Cos(AoA) + -0.028082*Sin(AoA),-1* 0.05904*Sin(AoA) + -0.028082*Cos(AoA),0.0,a_dim};
Point(29) = {0.03806*Cos(AoA) + -0.024035*Sin(AoA),-1* 0.03806*Sin(AoA) + -0.024035*Cos(AoA),0.0,a_dim};
Point(30) = {0.02153*Cos(AoA) + -0.019253*Sin(AoA),-1* 0.02153*Sin(AoA) + -0.019253*Cos(AoA),0.0,a_dim};
Point(31) = {0.009607*Cos(AoA) + -0.013598*Sin(AoA),-1* 0.009607*Sin(AoA) + -0.013598*Cos(AoA),0.0,a_dim};
Point(32) = {0.002408*Cos(AoA) + -0.007009*Sin(AoA),-1* 0.002408*Sin(AoA) + -0.007009*Cos(AoA),0.0,a_dim};
Point(33) = {0.0*Cos(AoA) + 0.0*Sin(AoA),-1* 0.0*Sin(AoA) + 0.0*Cos(AoA),0.0,a_dim};
Point(34) = {0.002408*Cos(AoA) + 0.008481*Sin(AoA),-1* 0.002408*Sin(AoA) + 0.008481*Cos(AoA),0.0,a_dim};
Point(35) = {0.009607*Cos(AoA) + 0.015968*Sin(AoA),-1* 0.009607*Sin(AoA) + 0.015968*Cos(AoA),0.0,a_dim};
Point(36) = {0.02153*Cos(AoA) + 0.023056*Sin(AoA),-1* 0.02153*Sin(AoA) + 0.023056*Cos(AoA),0.0,a_dim};
Point(37) = {0.03806*Cos(AoA) + 0.029734*Sin(AoA),-1* 0.03806*Sin(AoA) + 0.029734*Cos(AoA),0.0,a_dim};
Point(38) = {0.05904*Cos(AoA) + 0.03596*Sin(AoA),-1* 0.05904*Sin(AoA) + 0.03596*Cos(AoA),0.0,a_dim};
Point(39) = {0.084266*Cos(AoA) + 0.041691*Sin(AoA),-1* 0.084266*Sin(AoA) + 0.041691*Cos(AoA),0.0,a_dim};
Point(40) = {0.113495*Cos(AoA) + 0.046925*Sin(AoA),-1* 0.113495*Sin(AoA) + 0.046925*Cos(AoA),0.0,a_dim};
Point(41) = {0.146447*Cos(AoA) + 0.051651*Sin(AoA),-1* 0.146447*Sin(AoA) + 0.051651*Cos(AoA),0.0,a_dim};
Point(42) = {0.182804*Cos(AoA) + 0.055865*Sin(AoA),-1* 0.182804*Sin(AoA) + 0.055865*Cos(AoA),0.0,a_dim};
Point(43) = {0.222216*Cos(AoA) + 0.05955*Sin(AoA),-1* 0.222216*Sin(AoA) + 0.05955*Cos(AoA),0.0,a_dim};
Point(44) = {0.264303*Cos(AoA) + 0.062643*Sin(AoA),-1* 0.264303*Sin(AoA) + 0.062643*Cos(AoA),0.0,a_dim};
Point(45) = {0.30866*Cos(AoA) + 0.065006*Sin(AoA),-1* 0.30866*Sin(AoA) + 0.065006*Cos(AoA),0.0,a_dim};
Point(46) = {0.354859*Cos(AoA) + 0.066662*Sin(AoA),-1* 0.354859*Sin(AoA) + 0.066662*Cos(AoA),0.0,a_dim};
Point(47) = {0.402456*Cos(AoA) + 0.067546*Sin(AoA),-1* 0.402456*Sin(AoA) + 0.067546*Cos(AoA),0.0,a_dim};
Point(48) = {0.450993*Cos(AoA) + 0.067507*Sin(AoA),-1* 0.450993*Sin(AoA) + 0.067507*Cos(AoA),0.0,a_dim};
Point(49) = {0.5*Cos(AoA) + 0.066524*Sin(AoA),-1* 0.5*Sin(AoA) + 0.066524*Cos(AoA),0.0,a_dim};
Point(50) = {0.549011*Cos(AoA) + 0.0646*Sin(AoA),-1* 0.549011*Sin(AoA) + 0.0646*Cos(AoA),0.0,a_dim};
Point(51) = {0.597547*Cos(AoA) + 0.061798*Sin(AoA),-1* 0.597547*Sin(AoA) + 0.061798*Cos(AoA),0.0,a_dim};
Point(52) = {0.645144*Cos(AoA) + 0.058169*Sin(AoA),-1* 0.645144*Sin(AoA) + 0.058169*Cos(AoA),0.0,a_dim};
Point(53) = {0.691344*Cos(AoA) + 0.053788*Sin(AoA),-1* 0.691344*Sin(AoA) + 0.053788*Cos(AoA),0.0,a_dim};
Point(54) = {0.7357*Cos(AoA) + 0.04879*Sin(AoA),-1* 0.7357*Sin(AoA) + 0.04879*Cos(AoA),0.0,a_dim};
Point(55) = {0.777787*Cos(AoA) + 0.043247*Sin(AoA),-1* 0.777787*Sin(AoA) + 0.043247*Cos(AoA),0.0,a_dim};
Point(56) = {0.817199*Cos(AoA) + 0.03722*Sin(AoA),-1* 0.817199*Sin(AoA) + 0.03722*Cos(AoA),0.0,a_dim};
Point(57) = {0.853555*Cos(AoA) + 0.03096*Sin(AoA),-1* 0.853555*Sin(AoA) + 0.03096*Cos(AoA),0.0,a_dim};
Point(58) = {0.886507*Cos(AoA) + 0.024872*Sin(AoA),-1* 0.886507*Sin(AoA) + 0.024872*Cos(AoA),0.0,a_dim};
Point(59) = {0.915736*Cos(AoA) + 0.019225*Sin(AoA),-1* 0.915736*Sin(AoA) + 0.019225*Cos(AoA),0.0,a_dim};
Point(60) = {0.940962*Cos(AoA) + 0.013866*Sin(AoA),-1* 0.940962*Sin(AoA) + 0.013866*Cos(AoA),0.0,a_dim};
Point(61) = {0.961941*Cos(AoA) + 0.009265*Sin(AoA),-1* 0.961941*Sin(AoA) + 0.009265*Cos(AoA),0.0,a_dim};
Point(62) = {0.978471*Cos(AoA) + 0.00564*Sin(AoA),-1* 0.978471*Sin(AoA) + 0.00564*Cos(AoA),0.0,a_dim};
Point(63) = {0.990393*Cos(AoA) + 0.003025*Sin(AoA),-1* 0.990393*Sin(AoA) + 0.003025*Cos(AoA),0.0,a_dim};
Point(64) = {0.997593*Cos(AoA) + 0.001452*Sin(AoA),-1* 0.997593*Sin(AoA) + 0.001452*Cos(AoA),0.0,a_dim};
Point(65) = {1.0*Cos(AoA) + 0.000927*Sin(AoA),-1* 1.0*Sin(AoA) + 0.000927*Cos(AoA),0.0,a_dim};
Spline(1) = {38:65};
Spline(2) = {1:28};
Line(3) = {65, 1};
Spline(4) = {28:38};
Point(66) = {0, C, 0};
Point(67) = {0, -C, 0};
Point(68) = {L, C, 0};
Point(69) = {L, -C, 0};
Point(70) = {1, C, 0};
Point(71) = {1, -C, 0};
Point(72) = {L, -L* 1.0*Sin(AoA) + 0.000927*L*Cos(AoA), 0};
Point(73) = {L, -L* 1.0*Sin(AoA) + -0.000927*L*Cos(AoA), 0};
Circle(5) = {67, 33, 66};
Line(6) = {66, 70};
Line(7) = {67, 71};
Line(8) = {70, 68};
Line(9) = {70, 65};
Line(10) = {71, 1};
Line(11) = {71, 69};
Line(12) = {66, 38};
Line(13) = {67, 28};
Line(14) = {68, 72};
Line(15) = {72, 73};
Line(16) = {69, 73};
Line(17) = {73, 1};
Line(18) = {72, 65};
Curve Loop(1) = {12,-4,-13,5 };
Curve Loop(2) = {6,9,-1,-12 };
Curve Loop(3) = {7,10,2,-13 };
Curve Loop(4) = {8,14,18,-9 };
Curve Loop(5) = {11,16,17,-10 };
Plane Surface(1) = {1};
Plane Surface(2) = {2};
Plane Surface(3) = {3};
Plane Surface(4) = {4};
Plane Surface(5) = {5};
Curve Loop(6) = {15,17,-3,-18 };
Plane Surface(6) = {6};
Transfinite Curve {-5, -4} = N_inlet Using Progression 1.0; 
Transfinite Curve {-12, -9, -14, -16, -10, -13} = N_vertical Using Progression P_vertical; 
Transfinite Curve {6, -1, 2, 7} = N_airfoil Using Progression 1.0; 
Transfinite Curve {3, 15} = 4 Using Progression 1.0; 
Transfinite Curve {8, -18, -17, 11} = N_shear Using Progression P_shear; 
Transfinite Surface {1};
Transfinite Surface {2};
Transfinite Surface {3};
Transfinite Surface {4};
Transfinite Surface {5};
Transfinite Surface {6};
Recombine Surface {1, 2, 3, 4, 5, 6}; 
Physical Surface("fluid", 1) = {1, 2, 3, 4, 5, 6};