SetFactory("OpenCASCADE");
N_inlet = DefineNumber[ 20, Name "Parameters/N_inlet" ];
N_vertical = DefineNumber[ 40, Name "Parameters/N_vertical" ];
P_vertical = DefineNumber[ 1.15, Name "Parameters/P_vertical" ];
N_airfoil = DefineNumber[ 50, Name "Parameters/N_airfoil" ];
N_shear = DefineNumber[ 20, Name "Parameters/N_shear" ];
P_shear = DefineNumber[ 1.2, Name "Parameters/P_shear" ];
L = DefineNumber[ 6, Name "Parameters/L" ];
C = DefineNumber[ 6, Name "Parameters/C" ];
AoA_deg = DefineNumber[ 0, Name "Parameters/AoA" ];
AoA = AoA_deg*3.14/180;
a_dim = 0.2;
Point(1) = {1.0*Cos(AoA) + 0.0*Sin(AoA),-1* 1.0*Sin(AoA) + 0.0*Cos(AoA),0.0,a_dim};
Point(2) = {0.95*Cos(AoA) + 0.00434*Sin(AoA),-1* 0.95*Sin(AoA) + 0.00434*Cos(AoA),0.0,a_dim};
Point(3) = {0.9*Cos(AoA) + 0.00813*Sin(AoA),-1* 0.9*Sin(AoA) + 0.00813*Cos(AoA),0.0,a_dim};
Point(4) = {0.8*Cos(AoA) + 0.01452*Sin(AoA),-1* 0.8*Sin(AoA) + 0.01452*Cos(AoA),0.0,a_dim};
Point(5) = {0.7*Cos(AoA) + 0.01924*Sin(AoA),-1* 0.7*Sin(AoA) + 0.01924*Cos(AoA),0.0,a_dim};
Point(6) = {0.6*Cos(AoA) + 0.01998*Sin(AoA),-1* 0.6*Sin(AoA) + 0.01998*Cos(AoA),0.0,a_dim};
Point(7) = {0.55*Cos(AoA) + 0.0198*Sin(AoA),-1* 0.55*Sin(AoA) + 0.0198*Cos(AoA),0.0,a_dim};
Point(8) = {0.5*Cos(AoA) + 0.01884*Sin(AoA),-1* 0.5*Sin(AoA) + 0.01884*Cos(AoA),0.0,a_dim};
Point(9) = {0.45*Cos(AoA) + 0.0178*Sin(AoA),-1* 0.45*Sin(AoA) + 0.0178*Cos(AoA),0.0,a_dim};
Point(10) = {0.4*Cos(AoA) + 0.01657*Sin(AoA),-1* 0.4*Sin(AoA) + 0.01657*Cos(AoA),0.0,a_dim};
Point(11) = {0.35*Cos(AoA) + 0.01353*Sin(AoA),-1* 0.35*Sin(AoA) + 0.01353*Cos(AoA),0.0,a_dim};
Point(12) = {0.3*Cos(AoA) + 0.01038*Sin(AoA),-1* 0.3*Sin(AoA) + 0.01038*Cos(AoA),0.0,a_dim};
Point(13) = {0.25*Cos(AoA) + 0.00806*Sin(AoA),-1* 0.25*Sin(AoA) + 0.00806*Cos(AoA),0.0,a_dim};
Point(14) = {0.2*Cos(AoA) + 0.00475*Sin(AoA),-1* 0.2*Sin(AoA) + 0.00475*Cos(AoA),0.0,a_dim};
Point(15) = {0.15*Cos(AoA) + 0.002*Sin(AoA),-1* 0.15*Sin(AoA) + 0.002*Cos(AoA),0.0,a_dim};
Point(16) = {0.1*Cos(AoA) + 6.0e-5*Sin(AoA),-1* 0.1*Sin(AoA) + 6.0e-5*Cos(AoA),0.0,a_dim};
Point(17) = {0.075*Cos(AoA) + 0.0*Sin(AoA),-1* 0.075*Sin(AoA) + 0.0*Cos(AoA),0.0,a_dim};
Point(18) = {0.05*Cos(AoA) + 0.00075*Sin(AoA),-1* 0.05*Sin(AoA) + 0.00075*Cos(AoA),0.0,a_dim};
Point(19) = {0.025*Cos(AoA) + 0.00357*Sin(AoA),-1* 0.025*Sin(AoA) + 0.00357*Cos(AoA),0.0,a_dim};
Point(20) = {0.0125*Cos(AoA) + 0.00781*Sin(AoA),-1* 0.0125*Sin(AoA) + 0.00781*Cos(AoA),0.0,a_dim};
Point(21) = {0.0*Cos(AoA) + 0.01865*Sin(AoA),-1* 0.0*Sin(AoA) + 0.01865*Cos(AoA),0.0,a_dim};
Point(22) = {0.0125*Cos(AoA) + 0.03239*Sin(AoA),-1* 0.0125*Sin(AoA) + 0.03239*Cos(AoA),0.0,a_dim};
Point(23) = {0.025*Cos(AoA) + 0.03947*Sin(AoA),-1* 0.025*Sin(AoA) + 0.03947*Cos(AoA),0.0,a_dim};
Point(24) = {0.05*Cos(AoA) + 0.04923*Sin(AoA),-1* 0.05*Sin(AoA) + 0.04923*Cos(AoA),0.0,a_dim};
Point(25) = {0.075*Cos(AoA) + 0.0566*Sin(AoA),-1* 0.075*Sin(AoA) + 0.0566*Cos(AoA),0.0,a_dim};
Point(26) = {0.1*Cos(AoA) + 0.06234*Sin(AoA),-1* 0.1*Sin(AoA) + 0.06234*Cos(AoA),0.0,a_dim};
Point(27) = {0.15*Cos(AoA) + 0.07026*Sin(AoA),-1* 0.15*Sin(AoA) + 0.07026*Cos(AoA),0.0,a_dim};
Point(28) = {0.2*Cos(AoA) + 0.07601*Sin(AoA),-1* 0.2*Sin(AoA) + 0.07601*Cos(AoA),0.0,a_dim};
Point(29) = {0.25*Cos(AoA) + 0.08065*Sin(AoA),-1* 0.25*Sin(AoA) + 0.08065*Cos(AoA),0.0,a_dim};
Point(30) = {0.3*Cos(AoA) + 0.08383*Sin(AoA),-1* 0.3*Sin(AoA) + 0.08383*Cos(AoA),0.0,a_dim};
Point(31) = {0.35*Cos(AoA) + 0.08466*Sin(AoA),-1* 0.35*Sin(AoA) + 0.08466*Cos(AoA),0.0,a_dim};
Point(32) = {0.4*Cos(AoA) + 0.08376*Sin(AoA),-1* 0.4*Sin(AoA) + 0.08376*Cos(AoA),0.0,a_dim};
Point(33) = {0.45*Cos(AoA) + 0.08293*Sin(AoA),-1* 0.45*Sin(AoA) + 0.08293*Cos(AoA),0.0,a_dim};
Point(34) = {0.5*Cos(AoA) + 0.07975*Sin(AoA),-1* 0.5*Sin(AoA) + 0.07975*Cos(AoA),0.0,a_dim};
Point(35) = {0.55*Cos(AoA) + 0.07612*Sin(AoA),-1* 0.55*Sin(AoA) + 0.07612*Cos(AoA),0.0,a_dim};
Point(36) = {0.6*Cos(AoA) + 0.07197*Sin(AoA),-1* 0.6*Sin(AoA) + 0.07197*Cos(AoA),0.0,a_dim};
Point(37) = {0.7*Cos(AoA) + 0.06056*Sin(AoA),-1* 0.7*Sin(AoA) + 0.06056*Cos(AoA),0.0,a_dim};
Point(38) = {0.8*Cos(AoA) + 0.04624*Sin(AoA),-1* 0.8*Sin(AoA) + 0.04624*Cos(AoA),0.0,a_dim};
Point(39) = {0.9*Cos(AoA) + 0.02858*Sin(AoA),-1* 0.9*Sin(AoA) + 0.02858*Cos(AoA),0.0,a_dim};
Point(40) = {0.95*Cos(AoA) + 0.01817*Sin(AoA),-1* 0.95*Sin(AoA) + 0.01817*Cos(AoA),0.0,a_dim};
Point(41) = {1.0*Cos(AoA) + 0.00614*Sin(AoA),-1* 1.0*Sin(AoA) + 0.00614*Cos(AoA),0.0,a_dim};
Spline(1) = {25:41};
Spline(2) = {1:17};
Line(3) = {41, 1};
Spline(4) = {17:25};
Point(42) = {0, C, 0};
Point(43) = {0, -C, 0};
Point(44) = {L, C, 0};
Point(45) = {L, -C, 0};
Point(46) = {1, C, 0};
Point(47) = {1, -C, 0};
Point(48) = {L, -L* 1.0*Sin(AoA) + 0.00614*L*Cos(AoA), 0};
Point(49) = {L, -L* 1.0*Sin(AoA) + 0.0*L*Cos(AoA), 0};
Point(50) = {0, 0, 0};
Circle(5) = {43, 50, 42};
Line(6) = {42, 46};
Line(7) = {43, 47};
Line(8) = {46, 44};
Line(9) = {46, 41};
Line(10) = {47, 1};
Line(11) = {47, 45};
Line(12) = {42, 25};
Line(13) = {43, 17};
Line(14) = {44, 48};
Line(15) = {48, 49};
Line(16) = {45, 49};
Line(17) = {49, 1};
Line(18) = {48, 41};
Curve Loop(1) = {12,-4,-13,5 };
Curve Loop(2) = {6,9,-1,-12 };
Curve Loop(3) = {7,10,2,-13 };
Curve Loop(4) = {8,14,18,-9 };
Curve Loop(5) = {11,16,17,-10 };
Plane Surface(1) = {1};
Plane Surface(2) = {2};
Plane Surface(3) = {3};
Plane Surface(4) = {4};
Plane Surface(5) = {5};
Curve Loop(6) = {15,17,-3,-18 };
Plane Surface(6) = {6};
Transfinite Curve {-5, -4} = N_inlet Using Progression 1.0; 
Transfinite Curve {-12, -9, -14, -16, -10, -13} = N_vertical Using Progression P_vertical; 
Transfinite Curve {6, -1, 2, 7} = N_airfoil Using Progression 1.0; 
Transfinite Curve {3, 15} = 4 Using Progression 1.0; 
Transfinite Curve {8, -18, -17, 11} = N_shear Using Progression P_shear; 
Transfinite Surface {1};
Transfinite Surface {2};
Transfinite Surface {3};
Transfinite Surface {4};
Transfinite Surface {5};
Transfinite Surface {6};
Recombine Surface {1, 2, 3, 4, 5, 6}; 
Physical Surface("fluid", 1) = {1, 2, 3, 4, 5, 6};