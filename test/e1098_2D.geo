SetFactory("OpenCASCADE");
N_inlet = DefineNumber[ 20, Name "Parameters/N_inlet" ];
N_vertical = DefineNumber[ 40, Name "Parameters/N_vertical" ];
P_vertical = DefineNumber[ 1.15, Name "Parameters/P_vertical" ];
N_airfoil = DefineNumber[ 50, Name "Parameters/N_airfoil" ];
N_shear = DefineNumber[ 20, Name "Parameters/N_shear" ];
P_shear = DefineNumber[ 1.2, Name "Parameters/P_shear" ];
L = DefineNumber[ 6, Name "Parameters/L" ];
C = DefineNumber[ 6, Name "Parameters/C" ];
AoA_deg = DefineNumber[ 0, Name "Parameters/AoA" ];
AoA = AoA_deg*3.14/180;
a_dim = 0.2;
Point(1) = {1.0*Cos(AoA) + 0.0*Sin(AoA),-1* 1.0*Sin(AoA) + 0.0*Cos(AoA),0.0,a_dim};
Point(2) = {0.9960827*Cos(AoA) + 0.0005276*Sin(AoA),-1* 0.9960827*Sin(AoA) + 0.0005276*Cos(AoA),0.0,a_dim};
Point(3) = {0.984332*Cos(AoA) + 0.0017727*Sin(AoA),-1* 0.984332*Sin(AoA) + 0.0017727*Cos(AoA),0.0,a_dim};
Point(4) = {0.9648611*Cos(AoA) + 0.0030397*Sin(AoA),-1* 0.9648611*Sin(AoA) + 0.0030397*Cos(AoA),0.0,a_dim};
Point(5) = {0.9380802*Cos(AoA) + 0.0036352*Sin(AoA),-1* 0.9380802*Sin(AoA) + 0.0036352*Cos(AoA),0.0,a_dim};
Point(6) = {0.9047171*Cos(AoA) + 0.0030316*Sin(AoA),-1* 0.9047171*Sin(AoA) + 0.0030316*Cos(AoA),0.0,a_dim};
Point(7) = {0.8656485*Cos(AoA) + 0.0009319*Sin(AoA),-1* 0.8656485*Sin(AoA) + 0.0009319*Cos(AoA),0.0,a_dim};
Point(8) = {0.8218132*Cos(AoA) + -0.0028015*Sin(AoA),-1* 0.8218132*Sin(AoA) + -0.0028015*Cos(AoA),0.0,a_dim};
Point(9) = {0.7742203*Cos(AoA) + -0.0081683*Sin(AoA),-1* 0.7742203*Sin(AoA) + -0.0081683*Cos(AoA),0.0,a_dim};
Point(10) = {0.7239064*Cos(AoA) + -0.0150103*Sin(AoA),-1* 0.7239064*Sin(AoA) + -0.0150103*Cos(AoA),0.0,a_dim};
Point(11) = {0.6718973*Cos(AoA) + -0.0230272*Sin(AoA),-1* 0.6718973*Sin(AoA) + -0.0230272*Cos(AoA),0.0,a_dim};
Point(12) = {0.6191724*Cos(AoA) + -0.0317886*Sin(AoA),-1* 0.6191724*Sin(AoA) + -0.0317886*Cos(AoA),0.0,a_dim};
Point(13) = {0.5666348*Cos(AoA) + -0.0407374*Sin(AoA),-1* 0.5666348*Sin(AoA) + -0.0407374*Cos(AoA),0.0,a_dim};
Point(14) = {0.5150946*Cos(AoA) + -0.0492199*Sin(AoA),-1* 0.5150946*Sin(AoA) + -0.0492199*Cos(AoA),0.0,a_dim};
Point(15) = {0.4652361*Cos(AoA) + -0.0562835*Sin(AoA),-1* 0.4652361*Sin(AoA) + -0.0562835*Cos(AoA),0.0,a_dim};
Point(16) = {0.4169266*Cos(AoA) + -0.0607879*Sin(AoA),-1* 0.4169266*Sin(AoA) + -0.0607879*Cos(AoA),0.0,a_dim};
Point(17) = {0.369356*Cos(AoA) + -0.0626158*Sin(AoA),-1* 0.369356*Sin(AoA) + -0.0626158*Cos(AoA),0.0,a_dim};
Point(18) = {0.3224651*Cos(AoA) + -0.0625371*Sin(AoA),-1* 0.3224651*Sin(AoA) + -0.0625371*Cos(AoA),0.0,a_dim};
Point(19) = {0.2768521*Cos(AoA) + -0.0610211*Sin(AoA),-1* 0.2768521*Sin(AoA) + -0.0610211*Cos(AoA),0.0,a_dim};
Point(20) = {0.2330732*Cos(AoA) + -0.0582662*Sin(AoA),-1* 0.2330732*Sin(AoA) + -0.0582662*Cos(AoA),0.0,a_dim};
Point(21) = {0.1916554*Cos(AoA) + -0.0544503*Sin(AoA),-1* 0.1916554*Sin(AoA) + -0.0544503*Cos(AoA),0.0,a_dim};
Point(22) = {0.1531004*Cos(AoA) + -0.0497124*Sin(AoA),-1* 0.1531004*Sin(AoA) + -0.0497124*Cos(AoA),0.0,a_dim};
Point(23) = {0.1178772*Cos(AoA) + -0.0441931*Sin(AoA),-1* 0.1178772*Sin(AoA) + -0.0441931*Cos(AoA),0.0,a_dim};
Point(24) = {0.0864272*Cos(AoA) + -0.0380246*Sin(AoA),-1* 0.0864272*Sin(AoA) + -0.0380246*Cos(AoA),0.0,a_dim};
Point(25) = {0.0591566*Cos(AoA) + -0.0313477*Sin(AoA),-1* 0.0591566*Sin(AoA) + -0.0313477*Cos(AoA),0.0,a_dim};
Point(26) = {0.0364505*Cos(AoA) + -0.0243112*Sin(AoA),-1* 0.0364505*Sin(AoA) + -0.0243112*Cos(AoA),0.0,a_dim};
Point(27) = {0.0186816*Cos(AoA) + -0.0170816*Sin(AoA),-1* 0.0186816*Sin(AoA) + -0.0170816*Cos(AoA),0.0,a_dim};
Point(28) = {0.0062814*Cos(AoA) + -0.0098859*Sin(AoA),-1* 0.0062814*Sin(AoA) + -0.0098859*Cos(AoA),0.0,a_dim};
Point(29) = {0.0004746*Cos(AoA) + -0.0029776*Sin(AoA),-1* 0.0004746*Sin(AoA) + -0.0029776*Cos(AoA),0.0,a_dim};
Point(30) = {0.0*Cos(AoA) + 0.0*Sin(AoA),-1* 0.0*Sin(AoA) + 0.0*Cos(AoA),0.0,a_dim};
Point(31) = {0.0012734*Cos(AoA) + 0.0052896*Sin(AoA),-1* 0.0012734*Sin(AoA) + 0.0052896*Cos(AoA),0.0,a_dim};
Point(32) = {0.0071987*Cos(AoA) + 0.0158536*Sin(AoA),-1* 0.0071987*Sin(AoA) + 0.0158536*Cos(AoA),0.0,a_dim};
Point(33) = {0.0175285*Cos(AoA) + 0.0275484*Sin(AoA),-1* 0.0175285*Sin(AoA) + 0.0275484*Cos(AoA),0.0,a_dim};
Point(34) = {0.0320334*Cos(AoA) + 0.0397469*Sin(AoA),-1* 0.0320334*Sin(AoA) + 0.0397469*Cos(AoA),0.0,a_dim};
Point(35) = {0.0506445*Cos(AoA) + 0.0519772*Sin(AoA),-1* 0.0506445*Sin(AoA) + 0.0519772*Cos(AoA),0.0,a_dim};
Point(36) = {0.0732793*Cos(AoA) + 0.0639683*Sin(AoA),-1* 0.0732793*Sin(AoA) + 0.0639683*Cos(AoA),0.0,a_dim};
Point(37) = {0.0997127*Cos(AoA) + 0.0755306*Sin(AoA),-1* 0.0997127*Sin(AoA) + 0.0755306*Cos(AoA),0.0,a_dim};
Point(38) = {0.1296339*Cos(AoA) + 0.0864041*Sin(AoA),-1* 0.1296339*Sin(AoA) + 0.0864041*Cos(AoA),0.0,a_dim};
Point(39) = {0.1627977*Cos(AoA) + 0.0963134*Sin(AoA),-1* 0.1627977*Sin(AoA) + 0.0963134*Cos(AoA),0.0,a_dim};
Point(40) = {0.1989595*Cos(AoA) + 0.1051007*Sin(AoA),-1* 0.1989595*Sin(AoA) + 0.1051007*Cos(AoA),0.0,a_dim};
Point(41) = {0.2377671*Cos(AoA) + 0.1126733*Sin(AoA),-1* 0.2377671*Sin(AoA) + 0.1126733*Cos(AoA),0.0,a_dim};
Point(42) = {0.278785*Cos(AoA) + 0.1189112*Sin(AoA),-1* 0.278785*Sin(AoA) + 0.1189112*Cos(AoA),0.0,a_dim};
Point(43) = {0.3215674*Cos(AoA) + 0.1236708*Sin(AoA),-1* 0.3215674*Sin(AoA) + 0.1236708*Cos(AoA),0.0,a_dim};
Point(44) = {0.3656456*Cos(AoA) + 0.1268185*Sin(AoA),-1* 0.3656456*Sin(AoA) + 0.1268185*Cos(AoA),0.0,a_dim};
Point(45) = {0.4105355*Cos(AoA) + 0.128193*Sin(AoA),-1* 0.4105355*Sin(AoA) + 0.128193*Cos(AoA),0.0,a_dim};
Point(46) = {0.4557306*Cos(AoA) + 0.1276271*Sin(AoA),-1* 0.4557306*Sin(AoA) + 0.1276271*Cos(AoA),0.0,a_dim};
Point(47) = {0.5006816*Cos(AoA) + 0.1247186*Sin(AoA),-1* 0.5006816*Sin(AoA) + 0.1247186*Cos(AoA),0.0,a_dim};
Point(48) = {0.5454305*Cos(AoA) + 0.1187841*Sin(AoA),-1* 0.5454305*Sin(AoA) + 0.1187841*Cos(AoA),0.0,a_dim};
Point(49) = {0.5907146*Cos(AoA) + 0.1099341*Sin(AoA),-1* 0.5907146*Sin(AoA) + 0.1099341*Cos(AoA),0.0,a_dim};
Point(50) = {0.6366766*Cos(AoA) + 0.0992039*Sin(AoA),-1* 0.6366766*Sin(AoA) + 0.0992039*Cos(AoA),0.0,a_dim};
Point(51) = {0.6827371*Cos(AoA) + 0.0874585*Sin(AoA),-1* 0.6827371*Sin(AoA) + 0.0874585*Cos(AoA),0.0,a_dim};
Point(52) = {0.7282305*Cos(AoA) + 0.075286*Sin(AoA),-1* 0.7282305*Sin(AoA) + 0.075286*Cos(AoA),0.0,a_dim};
Point(53) = {0.7724453*Cos(AoA) + 0.0632013*Sin(AoA),-1* 0.7724453*Sin(AoA) + 0.0632013*Cos(AoA),0.0,a_dim};
Point(54) = {0.8146316*Cos(AoA) + 0.0516205*Sin(AoA),-1* 0.8146316*Sin(AoA) + 0.0516205*Cos(AoA),0.0,a_dim};
Point(55) = {0.8540272*Cos(AoA) + 0.0408789*Sin(AoA),-1* 0.8540272*Sin(AoA) + 0.0408789*Cos(AoA),0.0,a_dim};
Point(56) = {0.8898773*Cos(AoA) + 0.0312064*Sin(AoA),-1* 0.8898773*Sin(AoA) + 0.0312064*Cos(AoA),0.0,a_dim};
Point(57) = {0.9214655*Cos(AoA) + 0.022746*Sin(AoA),-1* 0.9214655*Sin(AoA) + 0.022746*Cos(AoA),0.0,a_dim};
Point(58) = {0.9481131*Cos(AoA) + 0.0154594*Sin(AoA),-1* 0.9481131*Sin(AoA) + 0.0154594*Cos(AoA),0.0,a_dim};
Point(59) = {0.9695235*Cos(AoA) + 0.0091452*Sin(AoA),-1* 0.9695235*Sin(AoA) + 0.0091452*Cos(AoA),0.0,a_dim};
Point(60) = {0.9857414*Cos(AoA) + 0.004074*Sin(AoA),-1* 0.9857414*Sin(AoA) + 0.004074*Cos(AoA),0.0,a_dim};
Point(61) = {0.996276*Cos(AoA) + 0.0009688*Sin(AoA),-1* 0.996276*Sin(AoA) + 0.0009688*Cos(AoA),0.0,a_dim};
Spline(1) = {36: 61, 1};
Spline(2) = {1:25};
Spline(3) = {25:36};
Point(62) = {0, C, 0};
Point(63) = {0, -C, 0};
Point(64) = {L, C, 0};
Point(65) = {L, -C, 0};
Point(66) = {1, C, 0};
Point(67) = {1, -C, 0};
Point(68) = {L, -L* 1.0*Sin(AoA) + 0.0*L*Cos(AoA), 0};
Circle(4) = {63, 30, 62};
Line(5) = {62, 66};
Line(6) = {63, 67};
Line(7) = {66, 64};
Line(8) = {66, 1};
Line(9) = {67, 1};
Line(10) = {67, 65};
Line(11) = {62, 36};
Line(12) = {63, 25};
Line(13) = {64, 68};
Line(14) = {68, 65};
Line(15) = {68, 1};
Curve Loop(1) = {11,-3,-12,4 };
Curve Loop(2) = {5,8,-1,-11 };
Curve Loop(3) = {6,9,2,-12 };
Curve Loop(4) = {7,13,15,-8 };
Curve Loop(5) = {10,-14,15,-9 };
Plane Surface(1) = {1};
Plane Surface(2) = {2};
Plane Surface(3) = {3};
Plane Surface(4) = {4};
Plane Surface(5) = {5};
Transfinite Curve {-4, -3} = N_inlet Using Progression 1.0; 
Transfinite Curve {-11, -8, -13, 14, -9, -12} = N_vertical Using Progression P_vertical; 
Transfinite Curve {5, -1, 2, 6} = N_airfoil Using Progression 1.0; 
Transfinite Curve {7, -15, 10} = N_shear Using Progression P_shear; 
Transfinite Surface {1};
Transfinite Surface {2};
Transfinite Surface {3};
Transfinite Surface {4};
Transfinite Surface {5};
Recombine Surface {1, 2, 3, 4, 5}; 
Physical Surface("fluid", 1) = {1, 2, 3, 4, 5};